# 学習ダッシュボード UI 仕様書

---

## 目的

受講者に対して、**自身の学習達成度を直感的に把握できる UI** を提供する。  
また、学習進捗を可視化することで「自分の弱点」や「復習すべき項目」を自発的に見つけられるようにし、  
学習意欲を促進する。

---

## ユーザー体験のゴール

- 一目で「自分がどのカテゴリ・章をどこまで理解しているか」がわかる
- チェックボックスによって、自分の苦手箇所を可視化できる
- 「最終チェック日」からの経過日数により、復習タイミングを判断できる
- UI 操作がスムーズで、見た目にもスタイリッシュな印象を与える

---

## 画面構成概要

```
+------------------------------------------------------+
| 学習ダッシュボード                                 |
|------------------------------------------------------|
| [分析エリア]                                         |
|   ├─ 折れ線グラフ：全体の達成率の推移              |
|   │   (過去の進捗変化を時系列で表示)               |
|   ├─ 横棒グラフ：KNOW / READ / WRITE の達成率比較  |
|   │   KNOW: 90%  READ: 75%  WRITE: 60%             |
|------------------------------------------------------|
| [進捗一覧エリア]                                     |
|   ▼ Java基礎（カテゴリ達成率 76%）                  |
|     [████████░░]                                     |
|     ▼ if文（トピック達成率 60%）                     |
|       □ if文の基本的な書き方を説明できる (3日前)     |
|       ■ if-else文のコードを書ける          (10日前) |
|       □ switch文を使った分岐を理解できる   (未チェック) |
|                                                      |
|     ▼ for文（100%）                                 |
|       ■ for文の書き方を説明できる           (1日前)  |
|       ■ for文を用いた処理を書ける           (1日前)  |
+------------------------------------------------------+
```

---

## UI 詳細仕様

### 1. 分析エリア（ダッシュボード上部）

#### 概要

学習全体の傾向を視覚的に把握できるようにするため、2 種類のグラフを表示する。

---

#### 折れ線グラフ（全体達成率の推移）

| 項目           | 内容                                             |
| -------------- | ------------------------------------------------ |
| グラフ種別     | 折れ線グラフ（LineChart）                        |
| データ内容     | 日付ごとの全体達成率（％）                       |
| 横軸           | 日付（チェック操作を行った日）                   |
| 縦軸           | 全体達成率（0〜100%）                            |
| 更新タイミング | チェックボックス操作時、自動で最新値を反映       |
| デザイン       | 柔らかなラインとグラデーション塗りでモダンに演出 |
| 補足           | 初期状態では直近 7 日間の推移を表示              |

---

#### 横棒グラフ（KNOW / READ / WRITE の比較）

| 項目       | 内容                                                 |
| ---------- | ---------------------------------------------------- |
| グラフ種別 | 横棒グラフ（BarChart, layout="vertical"）            |
| データ内容 | 各タイプ別達成率（％）                               |
| 横軸       | 達成率（0〜100%）                                    |
| 縦軸       | タイプ名（KNOW / READ / WRITE）                      |
| 色設定     | KNOW：青系 / READ：オレンジ系 / WRITE：緑系          |
| 補足       | グラフ下に数値（％）も併記し、比較をわかりやすく表示 |

---

#### レイアウト構成例

```
┌─────────────────────────────────────────┐
│ 【全体達成率の推移】折れ線グラフ                      │
│  ● ● ● ● ● ● ●（日次進捗）                          │
├─────────────────────────────────────────┤
│ 【タイプ別達成率】横棒グラフ                         │
│  KNOW  [███████████░░░] 90%                           │
│  READ  [███████░░░░░░░] 70%                           │
│  WRITE [█████░░░░░░░░░] 55%                           │
└─────────────────────────────────────────┘
```

---

### 2. 進捗一覧エリア（ダッシュボード下部）

#### カテゴリ表示

- 各カテゴリを `Paper` コンポーネントで区切って表示
- 上部に **カテゴリ名** と **カテゴリ全体の達成率バー（LinearProgress）** を表示
- カテゴリ配下には複数のトピックを Accordion（開閉可能）で表示

#### トピック表示

- トピックは `Accordion` で開閉可能
- タイトル右に達成率バーを表示
- 展開時にそのトピック内の設問一覧を表示
- 設問は **タイプ順（KNOW → READ → WRITE）** に並べて表示

#### 設問表示

| 要素                | 内容                                                                                                                     |
| ------------------- | ------------------------------------------------------------------------------------------------------------------------ |
| ✅ チェックボックス | 達成済み状態を示す（クリックで更新）                                                                                     |
| 🏷️ 問題ラベル       | 設問タイトルを表示。長文は Tooltip で対応                                                                                |
| ⏱️ 経過日数         | 最終チェックからの経過日数を表示（「3 日前」「10 日前」「未チェック」）<br>古い項目は色で強調表示（例：10 日以上＝赤系） |

#### 達成率表示

| 単位     | 内容                                           |
| -------- | ---------------------------------------------- |
| トピック | 設問中の「チェック済み」割合                   |
| カテゴリ | カテゴリ全体の設問に対する「チェック済み」割合 |

**プログレスバー色分けルール**

- 0〜40%：赤系（要復習）
- 41〜80%：オレンジ系（途中）
- 81〜100%：緑系（達成）

---

## データ管理仕様

| 項目         | 内容                                                                         |
| ------------ | ---------------------------------------------------------------------------- |
| 保存方式     | `localStorage`                                                               |
| 保存キー     | `"questionProgress"`                                                         |
| 保存内容     | `{ "questionId": { "checked": true/false, "lastCheckedAt": "YYYY-MM-DD" } }` |
| 更新トリガー | チェックボックス操作時                                                       |
| 表示更新     | `useState` により即時反映、再読み込み時は localStorage から復元              |
| グラフ反映   | チェック操作時に集計関数で再計算し、LineChart / BarChart に再描画            |

---

## デザイン方針

- **2 エリア構成**  
  上部：折れ線＆横棒グラフで分析  
  下部：カテゴリ・トピック別の詳細進捗一覧
- **MUI + Recharts** による高品質で一貫したデザイン
- プログレスバー・グラフ・色分けで達成状況を直感的に伝達
- スマートフォン・タブレットでも操作しやすいレスポンシブ構成
- グラフを活用し、データ駆動の「学習実感」を演出

---

## まとめ

| 要素        | 内容                                                                |
| ----------- | ------------------------------------------------------------------- |
| 🎯 目的     | 学習達成度をグラフと一覧で可視化し、復習を促す                      |
| 🧭 構成     | 上部：折れ線＋横棒グラフ / 下部：進捗一覧                           |
| 📊 表示内容 | 全体達成率の推移 + KNOW/READ/WRITE 別達成率 + カテゴリ/トピック詳細 |
| 🧠 操作     | チェックボックスで達成状態を更新・日付を自動記録                    |
| 💾 保存     | localStorage で永続化                                               |
| 🌈 見た目   | グラフと進捗バーでリッチに構成されたスタイリッシュ UI               |
| 💡 効果     | 一目で理解・振り返りができる「学習ダッシュボード体験」を提供        |

---
