import { OneCompilerCodeBlock } from "@site/src/components/OneCompilerCodeBlock";

# オブジェクト指向の基礎

この章では、プログラミングにおける重要な考え方である **オブジェクト指向** について学ぶ。

---

## 初学者への励まし

この章は、**初学者にとって最初の鬼門** である。オブジェクト指向は、プログラミングを学ぶ上で避けて通れない重要な概念だが、
最初は難しく感じるのが普通である。

### オブジェクト指向が難しい理由

1. **用語が聞き慣れない**：クラス、インスタンス、フィールド、メソッド、カプセル化、継承...など、初めて聞く言葉ばかり
2. **概念的で抽象的**：目に見えないものをイメージする必要がある
3. **今まで学んだこととの違い**：変数や条件分岐は「手順」だったが、オブジェクト指向は「設計」の話

### 学習のコツ

1. **まずは用語に慣れる**：完璧に理解しようとせず、何度も読んで用語に慣れることから始める
2. **具体例で考える**：「車」「犬」など、身近なものに置き換えて考える
3. **繰り返し学習**：1回で理解できなくても大丈夫。繰り返し読んで、少しずつ理解を深めていく

:::tip 重要
オブジェクト指向は、すぐに理解できなくても、コードを書いているうちに自然と身についてくる。
焦らず、じっくり学んでいこう。
:::

---

## 学習のゴール

- オブジェクト指向とは何かを説明できる
- クラスとオブジェクト（インスタンス）の関係を理解している
- フィールドの役割を説明できる
- インスタンスメソッドとstaticメソッドの違いを理解している
- newキーワードの役割を理解している
- クラスを定義してインスタンスを生成するプログラムを実装できる

---

## 1. オブジェクト指向とは

### オブジェクト指向の考え方

**オブジェクト指向** は、**「もの」を中心にプログラムを設計する考え方** である。

### 手続き型との違い

- **手続き型**：「何をするか」（処理の手順）を中心に考える
- **オブジェクト指向**：「何があるか」（ものとその性質・振る舞い）を中心に考える

### 現実世界の例：車

**手続き型の考え方**（処理中心）：
1. エンジンをかける
2. アクセルを踏む
3. ブレーキを踏む

**オブジェクト指向の考え方**（もの中心）：
- **車** というもの（オブジェクト）がある
- 車は **色、速度** などの性質（データ）を持つ
- 車は **発進する、停止する** などの振る舞い（処理）を持つ

:::info ポイント
オブジェクト指向では、「もの」を単位として、データと処理をまとめて考える。
:::

---

## 2. クラスとオブジェクト（インスタンス）

### クラスとは

**クラス** は、**オブジェクトの設計図** である。

### オブジェクト（インスタンス）とは

**オブジェクト**（または **インスタンス**）は、**設計図（クラス）から作られた実体** である。

### 例：クッキーの型と実際のクッキー

- **クラス**：クッキーの型（設計図）
- **インスタンス**：型を使って作った実際のクッキー（実体）

1つの型（クラス）から、たくさんのクッキー（インスタンス）を作ることができる。

### 図解

```
[クラス: Car]（設計図）
- 色
- 速度
- 発進する()
- 停止する()

↓ new（インスタンス化）

[インスタンス1: 赤い車]  [インスタンス2: 青い車]
- 色: 赤              - 色: 青
- 速度: 0             - 速度: 0
```

:::note 用語
「オブジェクト」と「インスタンス」は、ほぼ同じ意味で使われる。
厳密には「クラスから生成された実体」を指すとき「インスタンス」という。
:::

---

## 3. フィールド

### フィールドとは

**フィールド** は、**クラスが持つデータ**（変数）である。
インスタンスごとに異なる値を持つことができる。

### 例：Carクラス

```java
class Car {
    String color;  // フィールド（色）
    int speed;     // フィールド（速度）
}
```

### インスタンスごとに異なる値

```java
Car car1 = new Car();
car1.color = "赤";
car1.speed = 0;

Car car2 = new Car();
car2.color = "青";
car2.speed = 0;
```

- `car1`は赤い車
- `car2`は青い車

:::info 【共通】
フィールド（またはプロパティ、属性）は、多くのプログラミング言語で共通の概念である。
:::

**実行してみよう:**

<OneCompilerCodeBlock
  language="java"
  code={`// Carクラスの定義
class Car {
    String color;  // フィールド
    int speed;     // フィールド
}

public class Main {
    public static void main(String[] args) {
        // 赤い車のインスタンスを作成
        Car car1 = new Car();
        car1.color = "赤";
        car1.speed = 0;

        // 青い車のインスタンスを作成
        Car car2 = new Car();
        car2.color = "青";
        car2.speed = 0;

        // それぞれの車の情報を表示
        System.out.println("car1の色: " + car1.color + ", 速度: " + car1.speed);
        System.out.println("car2の色: " + car2.color + ", 速度: " + car2.speed);
    }
}`}
/>

**やってみよう:**
- 新しい車`car3`を作成して、別の色を設定してみよう
- フィールドに別の属性（例：`maker`でメーカー名）を追加してみよう

---

## 4. メソッド

### インスタンスメソッドとは

**インスタンスメソッド** は、**インスタンスが持つ処理**（振る舞い）である。

### 例：Carクラスにメソッドを追加

```java
class Car {
    String color;
    int speed;

    // インスタンスメソッド
    void start() {
        speed = 50;
        System.out.println("発進しました。速度: " + speed);
    }

    void stop() {
        speed = 0;
        System.out.println("停止しました。");
    }
}
```

### staticメソッドとの違い

- **staticメソッド**（今まで使ってきた）：クラスに属する、インスタンスなしで呼べる
- **インスタンスメソッド**（今学んでいる）：インスタンスに属する、インスタンス経由で呼ぶ

```java
// staticメソッド（クラスから直接呼ぶ）
Math.abs(-5);

// インスタンスメソッド（インスタンス経由で呼ぶ）
Car car = new Car();
car.start();
```

:::tip ポイント
`public static void main`の`static`は、「mainメソッドはインスタンスなしで呼び出される」という意味だった。
今後、クラスを設計するときは、インスタンスメソッドを使うことが多い。
:::

**実行してみよう:**

<OneCompilerCodeBlock
  language="java"
  code={`class Car {
    String color;
    int speed;

    // インスタンスメソッド
    void start() {
        speed = 50;
        System.out.println(color + "の車が発進しました。速度: " + speed);
    }

    void stop() {
        speed = 0;
        System.out.println(color + "の車が停止しました。");
    }

    void accelerate(int increase) {
        speed += increase;
        System.out.println("加速しました。現在の速度: " + speed);
    }
}

public class Main {
    public static void main(String[] args) {
        // 赤い車を作成
        Car car1 = new Car();
        car1.color = "赤";
        car1.speed = 0;

        // メソッドを呼び出す
        car1.start();
        car1.accelerate(30);
        car1.stop();

        System.out.println("---");

        // 青い車を作成
        Car car2 = new Car();
        car2.color = "青";
        car2.speed = 0;

        car2.start();
        car2.stop();
    }
}`}
/>

**やってみよう:**
- `brake()`メソッドを追加して、速度を減らしてみよう
- 複数の車を作成して、それぞれ異なる動きをさせてみよう

---

## 5. インスタンスの生成

### newキーワード

**`new`キーワード** は、**クラスからインスタンスを生成する** ための命令である。

```java
Car car = new Car();
```

**処理の流れ：**
1. `new Car()`：Carクラスのインスタンスを生成
2. `Car car`：生成したインスタンスを変数`car`に代入

### インスタンスの使用

インスタンスを生成した後、フィールドやメソッドにアクセスできる。

```java
car.color = "赤";  // フィールドにアクセス
car.start();       // メソッドを呼び出す
```

### 複数のインスタンス

1つのクラスから、複数のインスタンスを生成できる。
それぞれのインスタンスは、独立したデータを持つ。

**実行してみよう:**

<OneCompilerCodeBlock
  language="java"
  code={`class Person {
    String name;
    int age;

    void introduce() {
        System.out.println("私の名前は" + name + "で、" + age + "歳です。");
    }

    void birthday() {
        age++;
        System.out.println("誕生日を迎えました。" + age + "歳になりました。");
    }
}

public class Main {
    public static void main(String[] args) {
        // 太郎のインスタンスを作成
        Person taro = new Person();
        taro.name = "太郎";
        taro.age = 18;
        taro.introduce();
        taro.birthday();

        System.out.println("---");

        // 花子のインスタンスを作成
        Person hanako = new Person();
        hanako.name = "花子";
        hanako.age = 20;
        hanako.introduce();

        System.out.println("---");

        // 複数のインスタンスは独立している
        System.out.println("太郎の年齢: " + taro.age);
        System.out.println("花子の年齢: " + hanako.age);
    }
}`}
/>

**やってみよう:**
- 新しいPersonを作成してみよう
- `study()`メソッドを追加して、勉強する処理を実装してみよう

---

## まとめ

この章では、**オブジェクト指向の基礎** について学んだ。

### 学んだ内容

- **オブジェクト指向** は「もの」を中心にプログラムを設計する考え方である
- **クラス** はオブジェクトの設計図である
- **オブジェクト（インスタンス）** は設計図から作られた実体である
- **フィールド** はクラスが持つデータである
- **インスタンスメソッド** はインスタンスが持つ処理である
- **staticメソッド** はクラスに属し、**インスタンスメソッド** はインスタンスに属する
- **`new`キーワード** でインスタンスを生成できる
- 1つのクラスから複数のインスタンスを生成でき、それぞれが独立したデータを持つ

### 次のステップ

次の章では、**コンストラクタ** について学ぶ。
インスタンス生成時に自動的に実行される特別なメソッドを使って、
インスタンスの初期化をより効率的に行う方法を学ぶ。

---

## 演習

演習問題は、[ダッシュボード](/dashboard)から確認できる。
